SamplerState SampleType: register(s0);

cbuffer LightBuffer
{
    float4 ambientColor;
    float4 diffuseColor;
    float3 lightDirection;
    float padding;
};

struct PixelInputType
{
    float4 position: SV_POSITION;
    float2 tex: TEXCOORD0;
    float3 normal: NORMAL;
};

float4 LightPixelShader(PixelInputType input): SV_TARGET
{
    float4 textureColor;
    float3 lightDir;
    float lightIntensity;
    float4 color;

    color = ambientColor;

    lightDir = -lightDirection;

    lightIntensity = saturate(dot(input.normal, lightDir));

    if (lightIntensity > 0.0f)
    {
	color += (diffuseColor * lightIntensity);
    }

    color = saturate(color);

    return color; 
}

float4 GoochPixelShader(PixelInputType input): SV_TARGET
{
    float3 normal = normalize(input.normal);
    float3 lightDir = normalize(-lightDirection); 

    float NdotL = dot(normal, lightDir);
    float t = (NdotL + 1.0f) * 0.5f;x

    float3 coolColor = float3(0.2f, 0.2f, 0.8f);
    float3 warmColor = float3(1.0f, 0.9f, 0.6f);

    float3 goochColor = lerp(coolColor, warmColor, t);
    
    goochColor += ambientColor.rgb * 0.2f;

    return float4(saturate(goochColor), 1.0f);
}
